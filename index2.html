<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>阿黎二维码工坊 | 免费二维码生成器</title>
    <meta name="description" content="阿黎二维码工坊提供免费且强大的在线二维码生成服务，支持多种类型，包括文本、网址、电话等。">
    <meta name="keywords" content="二维码生成器, 在线二维码, 免费QR Code, 阿黎工具">
    <meta name="author" content="阿黎">
    <link rel="canonical" href="https://www.yourdomain.com/" /> <!-- 【上线后务必修改!!!】 -->
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">

    <!-- 引入图标库 (Font Awesome) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- 引入二维码库 -->
    <script src="https://unpkg.com/qr-code-styling@1.6.0-rc.1/lib/qr-code-styling.js"></script>

    <style>
        :root {
            --primary-color: #0096D8;
            --primary-hover: #007AAE;
            --secondary-color: #E6F0F5;
            --text-color: #333;
            --light-gray: #f5f5f5;
            --border-radius: 8px;
            --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }

        body {
            background-color: var(--secondary-color);
            color: var(--text-color);
        }

        /* 新增：头部导航样式 */
        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 0;
            position: relative;
            box-shadow: 0 2px 10px rgba(0, 150, 216, 0.3);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8em;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        .logo i {
            margin-right: 10px;
            font-size: 1.5em;
        }

        /* 新增：英雄横幅样式 */
        .hero {
            background-color: #e6f0f5;
            padding: 60px 20px; /* 调整内边距 */
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://picsum.photos/1200/600') no-repeat center center;
            background-size: cover;
            opacity: 0.1;
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            animation: fadeInUp 1s ease-out;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* --- CSS 修改开始 --- */
        /* 删除了 .hero-title-top 和 .hero-title-bottom 的样式 */

        /* 修改了 .hero-title 样式，使其更适合两行布局 */
        .hero-title {
            font-size: 4em; /* 增大字体以获得更强的视觉冲击力 */
            margin-bottom: 20px; /* 增加与副标题的间距 */
            color: var(--primary-color);
            font-weight: bold;
            line-height: 1.3; /* 调整行高，让两行文字更协调 */
        }
        /* --- CSS 修改结束 --- */

        .hero-subtitle {
            font-size: 1.2em;
            margin-bottom: 30px; /* 增加与按钮的间距 */
            color: #333;
            font-weight: normal;
            line-height: 1.5;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-size: 1.1em;
            cursor: pointer;
            transition: var(--transition);
            display: inline-block;
            box-shadow: 0 2px 10px rgba(0, 150, 216, 0.3);
        }

        .btn-primary:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 150, 216, 0.4);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .step-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .step-title {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--primary-color);
            color: white;
            padding: 15px 0;
            margin-bottom: 30px;
        }

        .step-title span {
            width: 30px;
            height: 30px;
            background-color: black;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .category-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 12px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
        }

        .category-btn:hover {
            border-color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(0, 150, 216, 0.2);
        }

        .category-btn.active {
            border-color: var(--primary-color);
            background-color: var(--primary-color);
            color: white;
        }

        .input-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
        }

        .input-label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #333;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1em;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .setting-item {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--box-shadow);
        }

        .setting-label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #333;
        }

        .setting-select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1em;
        }

        .preview-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }

        .qrcode-preview {
            width: 300px;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .generate-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 40px; /* 增大内边距 */
            border-radius: var(--border-radius);
            font-size: 1.2em; /* 增大字体大小 */
            cursor: pointer;
            transition: var(--transition);
            display: inline-block;
            width: auto; /* 让宽度自适应内容 */
        }

        .generate-btn:hover {
            background-color: var(--primary-hover);
        }

        .download-section {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .download-btn {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 10px 20px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .download-btn:hover {
            background-color: #f0f0f0;
        }


        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 30px;
        }

        footer a {
            color: white;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <!-- 头部导航 -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-qrcode"></i>
                <span>阿黎二维码工坊</span>
            </div>
        </div>
    </header>

    <!-- 主页横幅 -->
    <section class="hero">
        <div class="hero-content">
            <!-- --- HTML 修改开始 --- -->
            <!-- 将原来的两个h2合并为一个，并使用<br>换行 -->
            <h2 class="hero-title">免费二维码, QR码<br>生成器</h2>
            <!-- --- HTML 修改结束 --- -->
            <p class="hero-subtitle">一键生成，简单高效</p>
            <button class="btn-primary">探索更多</button>
        </div>
    </section>

    <!-- 步骤一：选择类别 -->
    <div class="step-container">
        <div class="step-title">
            <span>1</span> 选择类别
        </div>
        <div class="category-grid">
            <div class="category-btn" data-type="text">
                <i class="fas fa-font"></i> 文字
            </div>
            <div class="category-btn" data-type="url">
                <i class="fas fa-link"></i> 网址
            </div>
            <div class="category-btn" data-type="tel">
                <i class="fas fa-phone"></i> 电话
            </div>
            <div class="category-btn" data-type="email">
                <i class="fas fa-envelope"></i> 电邮
            </div>
            <div class="category-btn" data-type="whatsapp">
                <i class="fab fa-whatsapp"></i> WhatsApp
            </div>
            <div class="category-btn" data-type="facebook">
                <i class="fab fa-facebook-f"></i> Facebook
            </div>
            <div class="category-btn" data-type="instagram">
                <i class="fab fa-instagram"></i> Instagram
            </div>
            <div class="category-btn" data-type="twitter">
                <i class="fab fa-twitter"></i> X(Twitter)
            </div>
        </div>
    </div>

    <!-- 步骤二：输入内容 -->
    <div class="step-container">
        <div class="step-title">
            <span>2</span> 输入内容
        </div>
        <div class="input-container">
            <label for="content-input" class="input-label">网址</label>
            <input type="text" id="content-input" class="input-field" placeholder="https://www.example.com">
        </div>
    </div>

    <!-- 步骤三：二维码设置 -->
    <div class="step-container">
        <div class="step-title">
            <span>3</span> 二维码设置
        </div>
        <div class="settings-grid">
            <!-- 文本类型（可选，如果不需要可以删除） -->
            <div class="setting-item">
                <label for="type-select" class="setting-label">文本</label>
                <select id="type-select" class="setting-select">
                    <option value="text">文字</option>
                    <option value="url">网址</option>
                    <option value="tel">电话</option>
                    <option value="email">电邮</option>
                    <option value="whatsapp">WhatsApp</option>
                    <option value="facebook">Facebook</option>
                    <option value="instagram">Instagram</option>
                    <option value="twitter">X(Twitter)</option>
                </select>
            </div>

            <!-- 颜色选择 -->
            <div class="setting-item">
                <label for="color-select" class="setting-label">颜色</label>
                <select id="color-select" class="setting-select">
                    <option value="#000000">黑色</option>
                    <option value="#FFFFFF">白色</option>
                    <option value="#FF0000">红色</option>
                    <option value="#0000FF">蓝色</option>
                    <option value="#00FF00">绿色</option>
                    <option value="#FFFF00">黄色</option>
                </select>
            </div>

            <!-- 图标选择 -->
            <div class="setting-item">
                <label for="icon-select" class="setting-label">图标</label>
                <select id="icon-select" class="setting-select">
                    <option value="">无</option>
                    <option value="https://picsum.photos/id/1/100/100">图片1</option>
                    <option value="https://picsum.photos/id/2/100/100">图片2</option>
                    <option value="https://picsum.photos/id/3/100/100">图片3</option>
                </select>
            </div>
        </div>
        <div class="preview-container">
            <div class="qrcode-preview" id="qrcode"></div>
        </div>
        <!-- 将生成按钮移到二维码下方，并增大尺寸 -->
        <div style="text-align: center; margin-top: 20px;">
            <button class="generate-btn" onclick="generateQRCode()">生成二维码</button>
        </div>
    </div>

    <!-- 步骤四：下载二维码 -->
    <div class="step-container">
        <div class="step-title">
            <span>4</span> 下载二维码
        </div>
        <div style="text-align: center; margin-top: 20px; margin-bottom: 40px;">
            <!-- 添加一个明确的下载按钮，并给它一个ID -->
            <button id="downloadBtn" class="btn-primary" style="padding: 15px 40px; font-size: 1.2em;">
                <i class="fas fa-download"></i> 下载二维码
            </button>
        </div>
    </div>



    <!-- 页脚 -->
    <footer>
        <p>Copyright &copy; 2025 阿黎二维码工坊. All Rights Reserved. | <a href="about.html">关于我们</a> | <a href="privacy-policy.html">隐私政策</a></p>
    </footer>

    <script>
        let qrCode = null;

        // 页面加载完成后初始化
        document.addEventListener("DOMContentLoaded", () => {
            // 初始化二维码实例
            qrCode = new QRCodeStyling({
                width: 300,
                height: 300,
                data: "欢迎来到阿黎二维码工坊!",
                margin: 10,
                dotsOptions: {
                    color: "#000000",
                    type: "classy"
                },
                backgroundOptions: {
                    color: "#ffffff"
                },
                cornersSquareOptions: {
                    color: "#000000",
                    type: "square"
                },
                cornersDotOptions: {
                    color: "#000000",
                    type: "dot"
                }
            });

            // 将二维码实例附加到页面
            const qrcodeContainer = document.getElementById("qrcode");
            if (qrcodeContainer) {
                qrCode.append(qrcodeContainer);
            }

            // --- 新增：初始化并绑定下载按钮事件 ---
            const downloadButton = document.getElementById('downloadBtn');
            if (downloadButton) {
                downloadButton.addEventListener('click', () => {
                    // 检查 qrCode 实例是否有效
                    if (qrCode) {
                        try {
                            // 调用下载方法
                            qrCode.download({ name: "阿黎工坊二维码", extension: "png" });
                        } catch (error) {
                            console.error("下载二维码时发生错误:", error);
                            alert("下载失败，请稍后重试。");
                        }
                    } else {
                        console.error("下载失败：二维码实例未初始化。");
                        alert("二维码尚未生成，请先点击'生成二维码'按钮。");
                    }
                });
            } else {
                console.warn("警告：页面上未找到ID为 'downloadBtn' 的下载按钮。");
            }
            // --- 新增结束 ---

            // 绑定类别选择事件
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    const type = btn.getAttribute('data-type');
                    const inputLabel = document.querySelector('.input-label');
                    const inputField = document.getElementById('content-input');

                    if (inputLabel && inputField) {
                        if (type === 'text') {
                            inputLabel.textContent = '文字';
                            inputField.placeholder = '在此输入任意文本...';
                        } else if (type === 'url') {
                            inputLabel.textContent = '网址';
                            inputField.placeholder = 'https://www.example.com';
                        } else if (type === 'tel') {
                            inputLabel.textContent = '电话';
                            inputField.placeholder = '输入电话号码';
                        } else if (type === 'email') {
                            inputLabel.textContent = '电邮';
                            inputField.placeholder = 'example@email.com';
                        } else if (type === 'whatsapp') {
                            inputLabel.textContent = 'WhatsApp';
                            inputField.placeholder = '输入WhatsApp号码';
                        } else if (type === 'facebook') {
                            inputLabel.textContent = 'Facebook';
                            inputField.placeholder = '输入Facebook链接';
                        } else if (type === 'instagram') {
                            inputLabel.textContent = 'Instagram';
                            inputField.placeholder = '输入Instagram链接';
                        } else if (type === 'twitter') {
                            inputLabel.textContent = 'X(Twitter)';
                            inputField.placeholder = '输入Twitter链接';
                        }
                    }
                });
            });

            // 绑定生成按钮事件
            const generateBtn = document.querySelector('.generate-btn');
            if (generateBtn) {
                generateBtn.addEventListener('click', generateQRCode);
            }

            // 绑定颜色选择器事件
            const colorSelect = document.getElementById('color-select');
            if (colorSelect) {
                colorSelect.addEventListener('change', generateQRCode);
            }

            // 绑定图标选择器事件
            const iconSelect = document.getElementById('icon-select');
            if (iconSelect) {
                iconSelect.addEventListener('change', function() {
                    const iconUrl = this.value;
                    if (qrCode) { // 确保 qrCode 存在
                        if (iconUrl) {
                            qrCode.update({ image: iconUrl });
                        } else {
                            qrCode.update({ image: null });
                        }
                    }
                });
            }
        });

        // 生成二维码函数
        function generateQRCode() {
            if (!qrCode) {
                console.error("QRCode instance is not initialized.");
                alert("二维码初始化失败，请刷新页面重试。");
                return;
            }

            const selectedCategoryBtn = document.querySelector('.category-btn.active');
            const categoryType = selectedCategoryBtn ? selectedCategoryBtn.getAttribute('data-type') : 'url';

            const contentInput = document.getElementById('content-input');
            let data = contentInput ? contentInput.value.trim() : "";

            if (categoryType === 'url' && data && !data.startsWith('http://') && !data.startsWith('https://')) {
                data = 'https://' + data;
            } else if (categoryType === 'tel') {
                data = `tel:${data}`;
            } else if (categoryType === 'email') {
                data = `mailto:${data}`;
            } else if (categoryType === 'whatsapp') {
                data = `https://wa.me/${data}`;
            } else if (categoryType === 'facebook') {
                data = `https://www.facebook.com/${data}`;
            } else if (categoryType === 'instagram') {
                data = `https://www.instagram.com/${data}`;
            } else if (categoryType === 'twitter') {
                data = `https://x.com/${data}`;
            }

            if (!data) {
                data = "https://www.yourdomain.com/";
            }

            const colorSelect = document.getElementById('color-select');
            const darkColor = colorSelect ? colorSelect.value : "#000000";

            try {
                qrCode.update({
                     data,
                    dotsOptions: {
                        color: darkColor
                    },
                    backgroundOptions: {
                        color: '#ffffff'
                    }
                });
            } catch (error) {
                console.error("更新二维码时发生错误:", error);
                alert("生成二维码时出错，请检查输入内容或刷新页面重试。");
            }
        }
    </script>

</body>
</html>

